======================================== 
Ejecucion de Tests GesFer 
Fecha: 29/12/2025  9:11:00,02 
======================================== 
 
[1/3] Verificando rutas... 
   Rutas verificadas 
 
[2/3] Ejecutando tests del Cliente... 
======================================== 
TESTS DEL CLIENTE 
======================================== 
 
   Ejecutando todos los tests (incluyendo integridad)... 
 

> gesfer-cliente@0.1.0 test:all
> jest --coverage --verbose

PASS __tests__/lib/api/client.test.ts
  ApiClient
    GET requests
      √ should make GET request successfully (29 ms)
      √ should handle GET request with query parameters (18 ms)
    POST requests
      √ should make POST request with data (3 ms)
    Error handling
      √ should throw error on failed request (28 ms)
      √ should handle network errors (6 ms)
    Authentication
      √ should include Authorization header when token exists (3 ms)

PASS __tests__/utils/cn.test.ts
  cn utility
    √ should merge class names correctly (60 ms)
    √ should handle conditional classes (2 ms)
    √ should handle undefined and null values (2 ms)
    √ should override conflicting Tailwind classes (1 ms)

PASS __tests__/lib/api/companies.test.ts
  companiesApi
    getAll
      √ should fetch all companies (30 ms)
    getById
      √ should fetch company by id (3 ms)
    create
      √ should create a new company (2 ms)
    update
      √ should update an existing company (2 ms)
    delete
      √ should delete a company (1 ms)

PASS __tests__/integration/api-contracts.test.ts
  Contratos API - Verificación de Interfaces
    Contrato: Usuarios API
      √ debe cumplir contrato de CreateUser (42 ms)
      √ debe cumplir contrato de UpdateUser (1 ms)
      √ debe retornar array de User en getAll (1 ms)
    Contrato: Empresas API
      √ debe cumplir contrato de CreateCompany (2 ms)
      √ debe cumplir contrato de UpdateCompany (2 ms)
    Contrato: Autenticación API
      √ debe cumplir contrato de LoginResponse (2 ms)
    Validación de Tipos
      √ debe validar que los IDs son strings (1 ms)
      √ debe validar que las fechas son strings ISO (1 ms)
      √ debe validar que los campos opcionales pueden ser undefined (1 ms)

PASS __tests__/lib/utils/id-validation.test.ts
  id-validation
    isValidGuid
      √ debe validar GUIDs correctos (25 ms)
      √ debe rechazar GUIDs incorrectos (4 ms)
    sanitizeId
      √ debe sanitizar IDs válidos correctamente (3 ms)
      √ debe retornar null para IDs inválidos (2 ms)
    validateId
      √ debe validar y retornar IDs válidos (7 ms)
      √ debe lanzar error para IDs inválidos (57 ms)

PASS __tests__/integration/integrity.test.tsx
  Tests de Integridad - Auditoría Completa
    1. Integridad de Autenticación
      √ debe realizar login completo y guardar credenciales (22 ms)
      √ debe manejar errores de autenticación correctamente (24 ms)
      √ debe realizar logout y limpiar almacenamiento (2 ms)
    2. Integridad CRUD de Usuarios
      √ debe listar todos los usuarios correctamente (3 ms)
      √ debe obtener un usuario por ID (1 ms)
      √ debe crear un nuevo usuario (3 ms)
      √ debe actualizar un usuario existente (2 ms)
      √ debe eliminar un usuario (1 ms)
      √ debe manejar errores en operaciones CRUD (8 ms)
    3. Integridad CRUD de Empresas
      √ debe listar todas las empresas (2 ms)
      √ debe obtener una empresa por ID (1 ms)
      √ debe crear una nueva empresa (2 ms)
      √ debe actualizar una empresa existente (3 ms)
      √ debe eliminar una empresa (1 ms)
    4. Integridad del Cliente API
      √ debe incluir token de autenticación en peticiones (1 ms)
      √ debe manejar errores de red correctamente (2 ms)
      √ debe manejar respuestas de error HTTP (2 ms)
    5. Integridad de Flujos Completos
      √ debe completar flujo completo de creación de usuario (2 ms)
      √ debe completar flujo completo de edición de empresa (1 ms)
      √ debe completar flujo completo de eliminación (1 ms)
    6. Integridad de Validaciones
      √ debe validar que companyId es requerido al crear usuario (1 ms)
      √ debe validar formato de email (2 ms)
    7. Integridad de Manejo de Errores
      √ debe manejar errores 404 correctamente (1 ms)
      √ debe manejar errores 500 del servidor (2 ms)
      √ debe manejar errores de conexión (3 ms)
    8. Integridad de Estado y Caché
      √ debe invalidar caché después de crear usuario (6 ms)

PASS __tests__/lib/api/id-validation-api.test.ts
  Validación de IDs en APIs
    companiesApi
      √ debe validar ID antes de getById (47 ms)
      √ debe validar ID antes de update (6 ms)
      √ debe validar ID antes de delete (2 ms)
      √ debe permitir operaciones con IDs válidos (7 ms)
    usersApi
      √ debe validar ID antes de getById (6 ms)
      √ debe validar ID antes de update (2 ms)
      √ debe validar ID antes de delete (2 ms)
      √ debe validar companyId en getAll (2 ms)
      √ debe permitir operaciones con IDs válidos (2 ms)

PASS __tests__/integration/e2e-flows.test.tsx
  Flujos E2E - Interacciones Completas
    Flujo E2E: Gestión Completa de Usuarios
      √ debe completar flujo completo de operaciones CRUD de usuarios (25 ms)
      √ debe manejar errores en operaciones de usuarios (29 ms)
    Flujo E2E: Gestión Completa de Empresas
      √ debe completar flujo completo de operaciones CRUD de empresas (3 ms)
      √ debe manejar lista vacía de empresas (1 ms)
    Flujo E2E: Autenticación y Navegación
      √ debe mantener sesión después de login (2 ms)

PASS __tests__/components/ui/button.test.tsx
  Button Component
    √ should render button with text (123 ms)
    √ should handle click events (48 ms)
    √ should be disabled when disabled prop is true (12 ms)
    √ should apply variant classes (8 ms)
    √ should apply size classes (6 ms)

PASS __tests__/components/ui/input.test.tsx
  Input Component
    √ should render input element (60 ms)
    √ should handle user input (187 ms)
    √ should be disabled when disabled prop is true (7 ms)
    √ should apply custom className (6 ms)
    √ should handle different input types (5 ms)

  console.error
    Warning: An update to LoginPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at LoginPage (C:\Proyectos\GesFer\Cliente\app\login\page.tsx:18:43)

      63 |     e.preventDefault();
      64 |     setError(null);
    > 65 |     setIsLoading(true);
         |     ^
      66 |
      67 |     try {
      68 |       await login(formData);

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (app/login/page.tsx:65:5)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLFormElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at fireAnEvent (node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
      at HTMLFormElementImpl.requestSubmit (node_modules/jsdom/lib/jsdom/living/nodes/HTMLFormElement-impl.js:109:10)
      at HTMLFormElementImpl._doRequestSubmit (node_modules/jsdom/lib/jsdom/living/nodes/HTMLFormElement-impl.js:79:10)
      at HTMLButtonElementImpl._activationBehavior (node_modules/jsdom/lib/jsdom/living/nodes/HTMLButtonElement-impl.js:23:14)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:252:26)
      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (__tests__/app/login/page.test.tsx:70:5)

  console.error
    Warning: An update to LoginPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at LoginPage (C:\Proyectos\GesFer\Cliente\app\login\page.tsx:18:43)

      63 |     e.preventDefault();
      64 |     setError(null);
    > 65 |     setIsLoading(true);
         |     ^
      66 |
      67 |     try {
      68 |       await login(formData);

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (app/login/page.tsx:65:5)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLFormElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at fireAnEvent (node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
      at HTMLFormElementImpl.requestSubmit (node_modules/jsdom/lib/jsdom/living/nodes/HTMLFormElement-impl.js:109:10)
      at HTMLFormElementImpl._doRequestSubmit (node_modules/jsdom/lib/jsdom/living/nodes/HTMLFormElement-impl.js:79:10)
      at HTMLButtonElementImpl._activationBehavior (node_modules/jsdom/lib/jsdom/living/nodes/HTMLButtonElement-impl.js:23:14)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:252:26)
      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (__tests__/app/login/page.test.tsx:89:5)

  console.error
    Warning: An update to LoginPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at LoginPage (C:\Proyectos\GesFer\Cliente\app\login\page.tsx:18:43)

      72 |       router.replace("/dashboard");
      73 |     } catch (err) {
    > 74 |       setError(
         |       ^
      75 |         err instanceof Error
      76 |           ? err.message
      77 |           : t('loginError')

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setError (app/login/page.tsx:74:7)

  console.error
    Warning: An update to LoginPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at LoginPage (C:\Proyectos\GesFer\Cliente\app\login\page.tsx:18:43)

      77 |           : t('loginError')
      78 |       );
    > 79 |       setIsLoading(false);
         |       ^
      80 |     }
      81 |   };
      82 |

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (app/login/page.tsx:79:7)

  console.warn
    No se pudo obtener token de autenticación. Algunos tests pueden fallar.

      109 |       }
      110 |     } catch (error) {
    > 111 |       console.warn("No se pudo obtener token de autenticación. Algunos tests pueden fallar.");
          |               ^
      112 |       // No lanzar error aquí, permitir que los tests individuales manejen la falta de token
      113 |       authToken = "";
      114 |     }

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:111:15)

  console.warn
    No se pudo obtener token de autenticación. Algunos tests pueden fallar.

       98 |       expect(authToken).toBeTruthy();
       99 |     } catch (error) {
    > 100 |       console.warn("No se pudo obtener token de autenticación. Algunos tests pueden fallar.");
          |               ^
      101 |       // Continuar de todas formas para que los tests que no requieren auth puedan ejecutarse
      102 |     }
      103 |

      at Object.warn (__tests__/integration/id-validation.test.ts:100:15)

  console.error
    Warning: An update to LoginPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at LoginPage (C:\Proyectos\GesFer\Cliente\app\login\page.tsx:18:43)

      63 |     e.preventDefault();
      64 |     setError(null);
    > 65 |     setIsLoading(true);
         |     ^
      66 |
      67 |     try {
      68 |       await login(formData);

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (app/login/page.tsx:65:5)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLFormElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at fireAnEvent (node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)
      at HTMLFormElementImpl.requestSubmit (node_modules/jsdom/lib/jsdom/living/nodes/HTMLFormElement-impl.js:109:10)
      at HTMLFormElementImpl._doRequestSubmit (node_modules/jsdom/lib/jsdom/living/nodes/HTMLFormElement-impl.js:79:10)
      at HTMLButtonElementImpl._activationBehavior (node_modules/jsdom/lib/jsdom/living/nodes/HTMLButtonElement-impl.js:23:14)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:252:26)
      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (__tests__/app/login/page.test.tsx:103:5)

  console.warn
    Saltando test: no hay token de autenticación

      146 |     it("debe rechazar actualización con ID mal formateado (contiene caracteres inválidos)", async () => {
      147 |       if (!authToken) {
    > 148 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      149 |         return;
      150 |       }
      151 |

      at Object.warn (__tests__/integration/id-validation.test.ts:148:17)

  console.warn
    Saltando test: no hay token de autenticación

      118 |     it("debe listar todas las empresas", async () => {
      119 |       if (!authToken) {
    > 120 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      121 |         return;
      122 |       }
      123 |

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:120:17)

  console.warn
    Saltando test: no hay token de autenticación

      178 |     it("debe validar que el ID de empresa sea un GUID válido antes de actualizar", async () => {
      179 |       if (!authToken) {
    > 180 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      181 |         return;
      182 |       }
      183 |

      at Object.warn (__tests__/integration/id-validation.test.ts:180:17)

  console.warn
    Saltando test: no hay token de autenticación

      137 |     it("debe crear una empresa correctamente", async () => {
      138 |       if (!authToken) {
    > 139 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      140 |         return;
      141 |       }
      142 |

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:139:17)

  console.warn
    Saltando test: no hay token de autenticación

      176 |     it("debe obtener la empresa creada", async () => {
      177 |       if (!authToken) {
    > 178 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      179 |         return;
      180 |       }
      181 |       expect(testCompanyId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:178:17)

  console.warn
    Saltando test: no hay token de autenticación

      210 |     it("debe rechazar actualización con ID que contiene caracteres especiales", async () => {
      211 |       if (!authToken) {
    > 212 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      213 |         return;
      214 |       }
      215 |

      at Object.warn (__tests__/integration/id-validation.test.ts:212:17)

  console.warn
    Saltando test: no hay token de autenticación

      242 |     it("debe rechazar actualización con ID mal formateado (contiene caracteres inválidos)", async () => {
      243 |       if (!authToken) {
    > 244 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      245 |         return;
      246 |       }
      247 |

      at Object.warn (__tests__/integration/id-validation.test.ts:244:17)

  console.warn
    Saltando test: no hay token de autenticación

      195 |     it("debe editar una empresa correctamente", async () => {
      196 |       if (!authToken) {
    > 197 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      198 |         return;
      199 |       }
      200 |       expect(testCompanyId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:197:17)

  console.warn
    Saltando test: no hay token de autenticación

      275 |     it("debe validar que el ID de usuario sea un GUID válido antes de actualizar", async () => {
      276 |       if (!authToken) {
    > 277 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      278 |         return;
      279 |       }
      280 |

      at Object.warn (__tests__/integration/id-validation.test.ts:277:17)

  console.warn
    Saltando test: no hay token de autenticación

      232 |     it("debe verificar que la empresa se editó correctamente", async () => {
      233 |       if (!authToken) {
    > 234 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      235 |         return;
      236 |       }
      237 |       expect(testCompanyId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:234:17)

  console.warn
    Saltando test: no hay token de autenticación

      308 |     it("debe rechazar actualización con ID que contiene caracteres especiales", async () => {
      309 |       if (!authToken) {
    > 310 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      311 |         return;
      312 |       }
      313 |

      at Object.warn (__tests__/integration/id-validation.test.ts:310:17)

  console.warn
    Saltando test: no hay token de autenticación

      252 |     it("debe eliminar una empresa correctamente", async () => {
      253 |       if (!authToken) {
    > 254 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      255 |         return;
      256 |       }
      257 |       expect(testCompanyId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:254:17)

  console.warn
    Saltando setup de usuarios: no hay token de autenticación

      285 |     beforeAll(async () => {
      286 |       if (!authToken) {
    > 287 |         console.warn("Saltando setup de usuarios: no hay token de autenticación");
          |                 ^
      288 |         return;
      289 |       }
      290 |       // Asegurar que tenemos una empresa para los tests de usuarios

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:287:17)

  console.warn
    Saltando test: no hay token de autenticación

      337 |     it("debe listar todos los usuarios", async () => {
      338 |       if (!authToken) {
    > 339 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      340 |         return;
      341 |       }
      342 |       const resp = await httpRequest(`${API_URL}/api/user`, {

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:339:17)

PASS __tests__/integration/id-validation.test.ts
  Validación de IDs en peticiones API
    Empresas - Validación de IDs
      √ debe rechazar actualización con ID mal formateado (contiene caracteres inválidos) (13 ms)
      √ debe validar que el ID de empresa sea un GUID válido antes de actualizar (4 ms)
      √ debe rechazar actualización con ID que contiene caracteres especiales (3 ms)
    Usuarios - Validación de IDs
      √ debe rechazar actualización con ID mal formateado (contiene caracteres inválidos) (3 ms)
      √ debe validar que el ID de usuario sea un GUID válido antes de actualizar (2 ms)
      √ debe rechazar actualización con ID que contiene caracteres especiales (2 ms)

  console.warn
    Saltando test: no hay token de autenticación

      355 |     it("debe crear un usuario correctamente", async () => {
      356 |       if (!authToken) {
    > 357 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      358 |         return;
      359 |       }
      360 |       expect(userTestCompanyId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:357:17)

  console.warn
    Saltando test: no hay token de autenticación

      398 |     it("debe obtener el usuario creado", async () => {
      399 |       if (!authToken) {
    > 400 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      401 |         return;
      402 |       }
      403 |       expect(testUserId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:400:17)

  console.warn
    Saltando test: no hay token de autenticación

      417 |     it("debe editar un usuario correctamente", async () => {
      418 |       if (!authToken) {
    > 419 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      420 |         return;
      421 |       }
      422 |       expect(testUserId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:419:17)

  console.warn
    Saltando test: no hay token de autenticación

      454 |     it("debe verificar que el usuario se editó correctamente", async () => {
      455 |       if (!authToken) {
    > 456 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      457 |         return;
      458 |       }
      459 |       expect(testUserId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:456:17)

  console.warn
    Saltando test: no hay token de autenticación

      475 |     it("debe eliminar un usuario correctamente", async () => {
      476 |       if (!authToken) {
    > 477 |         console.warn("Saltando test: no hay token de autenticación");
          |                 ^
      478 |         return;
      479 |       }
      480 |       expect(testUserId).toBeTruthy();

      at Object.warn (__tests__/integration/users-companies-integrity.test.ts:477:17)

PASS __tests__/integration/users-companies-integrity.test.ts
  Integridad E2E: Usuarios y Empresas
    Empresas - Flujo completo
      √ debe listar todas las empresas (15 ms)
      √ debe crear una empresa correctamente (3 ms)
      √ debe obtener la empresa creada (3 ms)
      √ debe editar una empresa correctamente (4 ms)
      √ debe verificar que la empresa se editó correctamente (2 ms)
      √ debe eliminar una empresa correctamente (2 ms)
    Usuarios - Flujo completo
      √ debe listar todos los usuarios (2 ms)
      √ debe crear un usuario correctamente (4 ms)
      √ debe obtener el usuario creado (4 ms)
      √ debe editar un usuario correctamente (3 ms)
      √ debe verificar que el usuario se editó correctamente (3 ms)
      √ debe eliminar un usuario correctamente (2 ms)

PASS __tests__/app/login/page.test.tsx
  LoginPage
    √ should render login form (165 ms)
    √ should have default values in form (15 ms)
    √ should handle form submission (230 ms)
    √ should show error message on login failure (76 ms)
    √ should disable submit button while loading (91 ms)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at childrenProp (C:\Proyectos\GesFer\Cliente\node_modules\next\src\client\link.tsx:300:16)
        at nav
        at user (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:97:3)
        at div
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  console.error
    Warning: An update to UsuariosPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

      178 |               </p>
      179 |             </div>
    > 180 |             <Button onClick={() => setIsCreateModalOpen(true)} data-testid="usuarios-new-user-button">
          |                                    ^
      181 |               <Plus className="h-4 w-4 mr-2" />
      182 |               {t('newUser')}
      183 |             </Button>

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsCreateModalOpen (app/usuarios/page.tsx:180:36)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:43
      at Object.eventWrapper (node_modules/@testing-library/dom/dist/config.js:25:23)
      at Object.wrapEvent (node_modules/@testing-library/user-event/dist/cjs/event/wrapEvent.js:6:28)
      at Object.dispatchEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:45:22)
      at Object.dispatchUIEvent (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:22:26)
      at Mouse.up (node_modules/@testing-library/user-event/dist/cjs/system/pointer/mouse.js:100:30)
      at PointerHost.release (node_modules/@testing-library/user-event/dist/cjs/system/pointer/index.js:87:24)
      at pointerAction (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:54:47)
      at Object.pointer (node_modules/@testing-library/user-event/dist/cjs/pointer/index.js:27:9)
      at Object.<anonymous> (__tests__/app/usuarios/page.test.tsx:137:5)

  console.error
    Warning: An update to UserForm inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
        at user (C:\Proyectos\GesFer\Cliente\components\usuarios\user-form.tsx:20:3)
        at div
        at className (C:\Proyectos\GesFer\Cliente\components\ui\dialog.tsx:62:6)
        at div
        at div
        at open (C:\Proyectos\GesFer\Cliente\components\ui\dialog.tsx:33:19)
        at div
        at main
        at div
        at div
        at children (C:\Proyectos\GesFer\Cliente\components\layout\main-layout.tsx:24:30)
        at children (C:\Proyectos\GesFer\Cliente\components\auth\protected-route.tsx:9:34)
        at UsuariosPage (C:\Proyectos\GesFer\Cliente\app\usuarios\page.tsx:32:61)

       96 |   useEffect(() => {
       97 |     if (!isEditing && loggedUser?.companyId) {
    >  98 |       setFormData((prev) => ({ ...prev, companyId: loggedUser.companyId } as CreateUser));
          |       ^
       99 |     }
      100 |   }, [loggedUser?.companyId, isEditing]);
      101 |

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setFormData (components/usuarios/user-form.tsx:98:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26974:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:26156:3)
      at flushSyncCallbacks (node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at node_modules/react-dom/cjs/react-dom.development.js:25690:13
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:554:9

PASS __tests__/app/usuarios/page.test.tsx
  UsuariosPage
    √ should render usuarios list (201 ms)
    √ should open create modal when clicking new user button (314 ms)

PASS __tests__/integration/system-integrity.test.ts (5.89 s)
  Auditoría de integridad API + Cliente
    √ API: health responde healthy (204 ms)
    √ API: login funciona correctamente con credenciales demo (1606 ms)
    √ API: test de integridad completo de login con datos de prueba (1201 ms)
    √ Cliente: la pantalla de login responde 200 y sirve HTML (604 ms)

----------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------
File                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                     
----------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------
All files                   |    26.6 |    16.95 |   17.05 |   26.29 |                                                                       
 app                        |       0 |        0 |       0 |       0 |                                                                       
  layout.tsx                |       0 |      100 |       0 |       0 | 2-23                                                                  
  page.tsx                  |       0 |        0 |       0 |       0 | 3-19                                                                  
 app/[locale]               |       0 |        0 |       0 |       0 |                                                                       
  layout.tsx                |       0 |        0 |       0 |       0 | 2-33                                                                  
  page.tsx                  |       0 |        0 |       0 |       0 | 3-19                                                                  
 app/[locale]/clientes      |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-147                                                                 
 app/[locale]/dashboard     |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-13                                                                  
 app/[locale]/empresas      |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-284                                                                 
 app/[locale]/empresas/[id] |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-102                                                                 
 app/[locale]/login         |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-144                                                                 
 app/[locale]/usuarios      |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-366                                                                 
 app/[locale]/usuarios/[id] |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-105                                                                 
 app/clientes               |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-146                                                                 
 app/dashboard              |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-13                                                                  
 app/empresas               |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-284                                                                 
 app/empresas/[id]          |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-102                                                                 
 app/login                  |   78.04 |    35.29 |   57.14 |    77.5 |                                                                       
  page.tsx                  |   78.04 |    35.29 |   57.14 |    77.5 | 34-39,59,106-144                                                      
 app/usuarios               |   42.22 |    33.33 |   14.81 |   42.69 |                                                                       
  page.tsx                  |   42.22 |    33.33 |   14.81 |   42.69 | 42,52-56,63-75,82-110,115-118,123-133,139-140,148-161,166,209,268-336 
 app/usuarios/[id]          |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                  |       0 |        0 |       0 |       0 | 3-105                                                                 
 components/auth            |   80.76 |    52.63 |     100 |   80.76 |                                                                       
  protected-route.tsx       |   80.76 |    52.63 |     100 |   80.76 | 28-31,52                                                              
 components/empresas        |       0 |        0 |       0 |       0 |                                                                       
  company-form.tsx          |       0 |        0 |       0 |       0 | 3-236                                                                 
 components/layout          |   82.85 |    61.53 |      50 |   82.85 |                                                                       
  main-layout.tsx           |   82.85 |    61.53 |      50 |   82.85 | 40-81,115                                                             
 components/ui              |   92.53 |       80 |      80 |      95 |                                                                       
  button.tsx                |    87.5 |      100 |     100 |     100 |                                                                       
  card.tsx                  |   92.85 |      100 |     100 |     100 |                                                                       
  dialog.tsx                |   89.65 |      100 |   66.66 |   89.28 | 50-56,156                                                             
  error-message.tsx         |     100 |      100 |     100 |     100 |                                                                       
  input.tsx                 |     100 |      100 |     100 |     100 |                                                                       
  label.tsx                 |     100 |      100 |     100 |     100 |                                                                       
  loading.tsx               |     100 |       50 |     100 |     100 | 16                                                                    
 components/usuarios        |   37.83 |    37.36 |   23.52 |   38.57 |                                                                       
  user-form.tsx             |   37.83 |    37.36 |   23.52 |   38.57 | 87-92,106-129,133-312,336                                             
 contexts                   |   16.12 |        0 |       0 |   16.12 |                                                                       
  auth-context.tsx          |   16.12 |        0 |       0 |   16.12 | 23-60,82-86                                                           
 lib/api                    |   59.77 |    48.27 |   51.85 |      60 |                                                                       
  auth.ts                   |   14.28 |        0 |       0 |   10.52 | 6-45                                                                  
  client.ts                 |   81.25 |    68.42 |    62.5 |   83.33 | 51,59,67,89-96                                                        
  companies.ts              |     100 |      100 |     100 |     100 |                                                                       
  customers.ts              |       0 |        0 |       0 |       0 | 1-23                                                                  
  users.ts                  |   84.61 |       50 |      80 |   83.33 | 8,17                                                                  
 lib/hooks                  |       0 |        0 |       0 |       0 |                                                                       
  use-locale.ts             |       0 |        0 |       0 |       0 | 3-52                                                                  
 lib/providers              |       0 |        0 |       0 |       0 |                                                                       
  query-provider.tsx        |       0 |        0 |       0 |       0 | 3-10                                                                  
 lib/utils                  |   63.88 |       45 |      80 |   63.88 |                                                                       
  cn.ts                     |     100 |      100 |     100 |     100 |                                                                       
  id-validation.ts          |     100 |       90 |     100 |     100 | 50                                                                    
  locale.ts                 |       0 |        0 |       0 |       0 | 1-44                                                                  
----------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------
Test Suites: 1 skipped, 15 passed, 15 of 16 total
Tests:       1 skipped, 109 passed, 110 total
Snapshots:   0 total
Time:        9.882 s
Ran all test suites.
   Tests del Cliente: EXITOSOS 
   Tests del Cliente: FALLIDOS (codigo: 0) 
 
 
[3/3] Ejecutando tests de la API... 
======================================== 
TESTS DE LA API 
======================================== 
 
   Ejecutando tests de integracion... 
 
Compilación iniciada a las 29/12/2025 9:11:11.
     1>Proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" en el nodo 1 (Restore destinos).
     1>_GetAllRestoreProjectPathItems:
         Determinando los proyectos que se van a restaurar...
       Restore:
         La validación de la cadena de certificados X.509 utilizará el almacén de confianza predeterminado seleccionado por .NET para la firma de código.
         La validación de la cadena de certificados X.509 utilizará el almacén de confianza predeterminado seleccionado por .NET para la marca de tiempo.
         El archivo de recursos no ha cambiado, así que se omitirá su escritura. Ruta de acceso: C:\Proyectos\GesFer\Api\src\domain\obj\project.assets.json
         El archivo de recursos no ha cambiado, así que se omitirá su escritura. Ruta de acceso: C:\Proyectos\GesFer\Api\src\application\obj\project.assets.json
         El archivo de recursos no ha cambiado, así que se omitirá su escritura. Ruta de acceso: C:\Proyectos\GesFer\Api\src\Infrastructure\obj\project.assets.json
         El archivo de recursos no ha cambiado, así que se omitirá su escritura. Ruta de acceso: C:\Proyectos\GesFer\Api\src\Api\obj\project.assets.json
         El archivo de recursos no ha cambiado, así que se omitirá su escritura. Ruta de acceso: C:\Proyectos\GesFer\Api\src\IntegrationTests\obj\project.assets.json
         Se ha restaurado C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj (en 70 ms).
         Se ha restaurado C:\Proyectos\GesFer\Api\src\domain\GesFer.Domain.csproj (en 67 ms).
         Se ha restaurado C:\Proyectos\GesFer\Api\src\Infrastructure\GesFer.Infrastructure.csproj (en 68 ms).
         Se ha restaurado C:\Proyectos\GesFer\Api\src\application\GesFer.Application.csproj (en 67 ms).
         Se ha restaurado C:\Proyectos\GesFer\Api\src\Api\GesFer.Api.csproj (en 68 ms).
         
         Archivos de NuGet Config usados:
             C:\Users\Racso\AppData\Roaming\NuGet\NuGet.Config
             C:\Program Files (x86)\NuGet\Config\Microsoft.VisualStudio.FallbackLocation.config
             C:\Program Files (x86)\NuGet\Config\Microsoft.VisualStudio.Offline.config
         
         Fuentes usadas:
             https://api.nuget.org/v3/index.json
             C:\Program Files (x86)\Microsoft SDKs\NuGetPackages\
         Todos los proyectos están actualizados para la restauración.
     1>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (Restore destinos).
   1:7>Proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" en el nodo 3 (VSTest destinos).
     1>BuildProject:
         Compilación iniciada, espere...
   1:7>El proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (1:7) está compilando "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (1:8) en el nodo 3 (destinos predeterminados).
   1:8>El proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (1:8) está compilando "C:\Proyectos\GesFer\Api\src\domain\GesFer.Domain.csproj" (3:8) en el nodo 1 (destinos predeterminados).
     3>GenerateTargetFrameworkMonikerAttribute:
       Se omitirá el destino "GenerateTargetFrameworkMonikerAttribute" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CoreGenerateAssemblyInfo:
       Se omitirá el destino "CoreGenerateAssemblyInfo" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _GenerateSourceLinkFile:
         El archivo de Source Link 'obj\Debug\net8.0\GesFer.Domain.sourcelink.json' está actualizado.
       CoreCompile:
       Se omitirá el destino "CoreCompile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildDependencyFile:
       Se omitirá el destino "GenerateBuildDependencyFile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CopyFilesToOutputDirectory:
         GesFer.Domain -> C:\Proyectos\GesFer\Api\src\domain\bin\Debug\net8.0\GesFer.Domain.dll
     3>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\domain\GesFer.Domain.csproj" (destinos predeterminados).
   1:8>El proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (1:8) está compilando "C:\Proyectos\GesFer\Api\src\Infrastructure\GesFer.Infrastructure.csproj" (4:8) en el nodo 3 (destinos predeterminados).
     4>GenerateTargetFrameworkMonikerAttribute:
       Se omitirá el destino "GenerateTargetFrameworkMonikerAttribute" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CoreGenerateAssemblyInfo:
       Se omitirá el destino "CoreGenerateAssemblyInfo" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _GenerateSourceLinkFile:
         El archivo de Source Link 'obj\Debug\net8.0\GesFer.Infrastructure.sourcelink.json' está actualizado.
       CoreCompile:
       Se omitirá el destino "CoreCompile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildDependencyFile:
       Se omitirá el destino "GenerateBuildDependencyFile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildRuntimeConfigurationFiles:
       Se omitirá el destino "GenerateBuildRuntimeConfigurationFiles" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CopyFilesToOutputDirectory:
         GesFer.Infrastructure -> C:\Proyectos\GesFer\Api\src\Infrastructure\bin\Debug\net8.0\GesFer.Infrastructure.dll
     4>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\Infrastructure\GesFer.Infrastructure.csproj" (destinos predeterminados).
   1:8>El proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (1:8) está compilando "C:\Proyectos\GesFer\Api\src\application\GesFer.Application.csproj" (5:7) en el nodo 2 (destinos predeterminados).
     5>GenerateTargetFrameworkMonikerAttribute:
       Se omitirá el destino "GenerateTargetFrameworkMonikerAttribute" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CoreGenerateAssemblyInfo:
       Se omitirá el destino "CoreGenerateAssemblyInfo" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _GenerateSourceLinkFile:
         El archivo de Source Link 'obj\Debug\net8.0\GesFer.Application.sourcelink.json' está actualizado.
       CoreCompile:
       Se omitirá el destino "CoreCompile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildDependencyFile:
       Se omitirá el destino "GenerateBuildDependencyFile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CopyFilesToOutputDirectory:
         GesFer.Application -> C:\Proyectos\GesFer\Api\src\application\bin\Debug\net8.0\GesFer.Application.dll
     5>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\application\GesFer.Application.csproj" (destinos predeterminados).
   1:8>El proyecto "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (1:8) está compilando "C:\Proyectos\GesFer\Api\src\Api\GesFer.Api.csproj" (2:6) en el nodo 4 (destinos predeterminados).
     2>GenerateTargetFrameworkMonikerAttribute:
       Se omitirá el destino "GenerateTargetFrameworkMonikerAttribute" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CoreGenerateAssemblyInfo:
       Se omitirá el destino "CoreGenerateAssemblyInfo" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _DiscoverMvcApplicationParts:
       Se omitirá el destino "_DiscoverMvcApplicationParts" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _GenerateSourceLinkFile:
         El archivo de Source Link 'obj\Debug\net8.0\GesFer.Api.sourcelink.json' está actualizado.
       CoreCompile:
       Se omitirá el destino "CoreCompile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _CreateAppHost:
       Se omitirá el destino "_CreateAppHost" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _ProcessScopedCssFiles:
       Se omitirá el destino "_ProcessScopedCssFiles" porque no tiene salidas.
       _ProcessScopedCssFiles:
       Se omitirá el destino "_ProcessScopedCssFiles" porque no tiene salidas.
       _BuildCopyStaticWebAssetsPreserveNewest:
       Se omitirá el destino "_BuildCopyStaticWebAssetsPreserveNewest" porque no tiene salidas.
       _CopyOutOfDateSourceItemsToOutputDirectory:
       Se omitirá el destino "_CopyOutOfDateSourceItemsToOutputDirectory" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildDependencyFile:
       Se omitirá el destino "GenerateBuildDependencyFile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildRuntimeConfigurationFiles:
       Se omitirá el destino "GenerateBuildRuntimeConfigurationFiles" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CopyFilesToOutputDirectory:
         GesFer.Api -> C:\Proyectos\GesFer\Api\src\Api\bin\Debug\net8.0\GesFer.Api.dll
     2>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\Api\GesFer.Api.csproj" (destinos predeterminados).
     1>GenerateTargetFrameworkMonikerAttribute:
       Se omitirá el destino "GenerateTargetFrameworkMonikerAttribute" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CoreGenerateAssemblyInfo:
       Se omitirá el destino "CoreGenerateAssemblyInfo" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _GenerateSourceLinkFile:
         El archivo de Source Link 'obj\Debug\net8.0\GesFer.IntegrationTests.sourcelink.json' está actualizado.
       CoreCompile:
       Se omitirá el destino "CoreCompile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       _CopyOutOfDateSourceItemsToOutputDirectory:
       Compilando parcialmente el destino "_CopyOutOfDateSourceItemsToOutputDirectory" porque algunos de los archivos de salida están obsoletos respecto a los archivos de entrada.
         Copiando el archivo de "C:\Proyectos\GesFer\Api\src\IntegrationTests\obj\Debug\net8.0\MvcTestingAppManifest.json" en "C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\MvcTestingAppManifest.json".
       GenerateBuildDependencyFile:
       Se omitirá el destino "GenerateBuildDependencyFile" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       GenerateBuildRuntimeConfigurationFiles:
       Se omitirá el destino "GenerateBuildRuntimeConfigurationFiles" porque todos los archivos de salida están actualizados respecto a los archivos de entrada.
       CopyFilesToOutputDirectory:
         GesFer.IntegrationTests -> C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.IntegrationTests.dll
       _MvcCopyDependencyFiles:
         Copiando el archivo de "C:\Proyectos\GesFer\Api\src\Api\bin\Debug\net8.0\GesFer.Api.deps.json" en "C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.Api.deps.json".
         Copiando el archivo de "C:\Proyectos\GesFer\Api\src\application\bin\Debug\net8.0\GesFer.Application.deps.json" en "C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.Application.deps.json".
         Copiando el archivo de "C:\Proyectos\GesFer\Api\src\domain\bin\Debug\net8.0\GesFer.Domain.deps.json" en "C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.Domain.deps.json".
         Copiando el archivo de "C:\Proyectos\GesFer\Api\src\Infrastructure\bin\Debug\net8.0\GesFer.Infrastructure.deps.json" en "C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.Infrastructure.deps.json".
     1>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (destinos predeterminados).
     1>BuildProject:
         Se completó la compilación.
         
Serie de pruebas para C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.IntegrationTests.dll (.NETCoreApp,Version=v8.0)
Versión 17.14.1 (x64) de VSTest

Iniciando la ejecución de pruebas, espere...
1 archivos de prueba en total coincidieron con el patrón especificado.
C:\Proyectos\GesFer\Api\src\IntegrationTests\bin\Debug\net8.0\GesFer.IntegrationTests.dll
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.5+1caef2f33e (64-bit .NET 8.0.20)
[xUnit.net 00:00:00.94]   Discovering: GesFer.IntegrationTests
[xUnit.net 00:00:00.97]   Discovered:  GesFer.IntegrationTests
[xUnit.net 00:00:00.98]   Starting:    GesFer.IntegrationTests
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Create_WithInvalidCompanyId_ShouldReturnBadRequest [721 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Create_WithDuplicateUsername_ShouldReturnBadRequest [26 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Update_WithValidData_ShouldReturnOk [115 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Delete_WithInvalidId_ShouldReturnNotFound [13 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.GetAll_WithCompanyIdFilter_ShouldReturnFilteredUsers [39 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [20 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Update_WithInvalidId_ShouldReturnNotFound [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Test2P2_UpdateUser_WithAllProperties_ShouldValidateAllFields [251 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Update_WithPassword_ShouldUpdatePassword [121 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.GetById_WithValidId_ShouldReturnUser [4 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Test2P2_CreateUser_WithAllProperties_ShouldValidateAllFields [118 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Delete_WithValidId_ShouldReturnNoContent [122 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.GetAll_ShouldReturnListOfUsers [15 ms]
  Correctas GesFer.IntegrationTests.Controllers.UserControllerTests.Create_WithValidData_ShouldReturnCreated [127 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.GetById_WithValidId_ShouldReturnGroup [48 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.Delete_WithValidId_ShouldReturnNoContent [29 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.Create_WithDuplicateName_ShouldReturnBadRequest [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.GetAll_ShouldReturnListOfGroups [11 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.Create_WithValidData_ShouldReturnCreated [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.Update_WithValidData_ShouldReturnOk [16 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.Update_WithInvalidId_ShouldReturnNotFound [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.GroupControllerTests.Delete_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.Create_WithInvalidStateId_ShouldReturnBadRequest [43 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.GetAll_WithStateIdFilter_ShouldReturnFilteredCities [59 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.GetById_WithValidId_ShouldReturnCity [68 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.Update_WithValidData_ShouldReturnOk [57 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.GetAll_WithCountryIdFilter_ShouldReturnFilteredCities [28 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.Delete_WithValidId_ShouldReturnNoContent [14 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.Create_WithValidData_ShouldReturnCreated [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CityControllerTests.GetAll_ShouldReturnListOfCities [27 ms]
  Correctas GesFer.IntegrationTests.Controllers.HealthControllerTests.GetHealth_ShouldReturnOk_WithHealthStatus [24 ms]
  Correctas GesFer.IntegrationTests.Controllers.HealthControllerTests.GetHealth_ShouldReturnJsonContent [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [36 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.GetAll_WithCompanyIdFilter_ShouldReturnFilteredCustomers [60 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Create_WithDuplicateName_ShouldReturnBadRequest [5 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.GetById_WithValidId_ShouldReturnCustomer [6 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Create_WithValidData_ShouldReturnCreated [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Update_WithValidData_ShouldReturnOk [25 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Delete_WithValidId_ShouldReturnNoContent [8 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Delete_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Create_WithInvalidCompanyId_ShouldReturnBadRequest [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.Update_WithInvalidId_ShouldReturnNotFound [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CustomerControllerTests.GetAll_ShouldReturnListOfCustomers [8 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [33 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Delete_WithInvalidId_ShouldReturnNotFound [12 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Delete_WithValidId_ShouldReturnNoContent [28 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.GetAll_WithCompanyIdFilter_ShouldReturnFilteredSuppliers [22 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Create_WithInvalidCompanyId_ShouldReturnBadRequest [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Update_WithValidData_ShouldReturnOk [34 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Create_WithValidData_ShouldReturnCreated [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Create_WithDuplicateName_ShouldReturnBadRequest [9 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.GetAll_ShouldReturnListOfSuppliers [12 ms]
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.Update_WithInvalidId_ShouldReturnNotFound [4 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.SupplierControllerTests.GetById_WithValidId_ShouldReturnSupplier [4 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.Login_WithValidCredentials_ShouldNotReturn500Error [256 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.GetUserPermissions_WithInvalidUserId_ShouldReturnEmptyList [7 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.GetUserPermissions_WithValidUserId_ShouldReturnPermissions [4 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.Login_WithInvalidUsername_ShouldReturnUnauthorized [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.Login_WithEmptyFields_ShouldReturnUnauthorized [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.Login_WithValidCredentials_ShouldReturnOk_WithUserData [167 ms]
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.Login_WithInvalidCompany_ShouldReturnUnauthorized [2 ms]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.AuthControllerTests.Login_WithInvalidPassword_ShouldReturnUnauthorized [152 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.GetAll_ShouldReturnListOfStates [32 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.GetById_WithValidId_ShouldReturnState [22 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.Delete_WithValidId_ShouldReturnNoContent [19 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.Update_WithValidData_ShouldReturnOk [30 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.Create_WithInvalidCountryId_ShouldReturnBadRequest [1 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.GetAll_WithCountryIdFilter_ShouldReturnFilteredStates [10 ms]
  Correctas GesFer.IntegrationTests.Controllers.StateControllerTests.Create_WithValidData_ShouldReturnCreated [2 ms]
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.Delete_WithValidId_ShouldReturnNoContent [43 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.Update_WithValidData_ShouldReturnOk [18 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.Create_WithValidData_ShouldReturnCreated [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.GetById_WithValidId_ShouldReturnCountry [4 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.Create_WithDuplicateCode_ShouldReturnBadRequest [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.Delete_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.Update_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CountryControllerTests.GetAll_ShouldReturnListOfCountries [10 ms]
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.Delete_WithValidId_ShouldReturnNoContent [59 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.GetById_WithInvalidId_ShouldReturnNotFound [11 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.Update_WithValidData_ShouldReturnOk [19 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.Delete_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.Update_WithInvalidId_ShouldReturnNotFound [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.Create_WithValidData_ShouldReturnCreated [3 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.GetById_WithValidId_ShouldReturnCompany [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.Create_WithDuplicateName_ShouldReturnBadRequest [2 ms]
  Correctas GesFer.IntegrationTests.Controllers.CompanyControllerTests.GetAll_ShouldReturnListOfCompanies [13 ms]
info: Program[0]
      Verificando conexi�n a la base de datos...
info: Program[0]
      Verificando si la base de datos necesita migraciones...
info: Program[0]
      Base de datos no relacional detectada. Omitiendo migraciones.
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
warn: GesFer.Api.Controllers.SetupController[0]
      Iniciando inicializaci�n completa del entorno...
info: GesFer.Api.Services.SetupService[0]
      Deteniendo contenedores Docker...
  Correctas GesFer.IntegrationTests.Controllers.SetupControllerTests.GetStatus_ShouldReturnOk [20 ms]
info: GesFer.Api.Services.SetupService[0]
      Limpiando vol�menes...
info: GesFer.Api.Services.SetupService[0]
      Creando contenedores Docker...
info: GesFer.Api.Services.SetupService[0]
      Esperando a que MySQL est� listo...
info: GesFer.Api.Services.SetupService[0]
      Creando base de datos...
info: GesFer.Api.Services.SetupService[0]
      Base de datos no relacional detectada. Usando EnsureCreated...
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: GesFer.Api.Services.SetupService[0]
      Base de datos en memoria creada correctamente
info: GesFer.Api.Services.SetupService[0]
      Insertando idiomas maestros...
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Cargando idiomas maestros...
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Idiomas maestros listos
info: GesFer.Api.Services.SetupService[0]
      Insertando datos maestros de Espa�a...
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Iniciando carga de datos maestros de Espa�a...
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Pa�s creado: Espa�a
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Cargando provincias de Espa�a...
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 51 entities to in-memory store.
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Provincias de Espa�a cargadas: 51 provincias
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Cargando ciudades y c�digos postales de Espa�a...
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 13 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 11 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 15 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 15 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 17 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 15 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 16 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 16 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 10 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 15 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 12 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 15 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 18 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 12 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 17 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 18 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 8 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 1 entities to in-memory store.
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Ciudades y c�digos postales cargados: 51 ciudades, 278 c�digos postales
info: GesFer.Infrastructure.Services.MasterDataSeeder[0]
      Carga de datos maestros de Espa�a completada.
info: GesFer.Api.Services.SetupService[0]
      Insertando datos iniciales...
info: GesFer.Api.Services.SetupService[0]
      Base de datos no relacional detectada. Omitiendo verificaci�n de tablas y procediendo a insertar datos...
info: GesFer.Api.Services.SetupService[0]
      Limpiando datos existentes...
info: GesFer.Api.Services.SetupService[0]
      Datos existentes eliminados
info: GesFer.Api.Services.SetupService[0]
      Empresa creada: Empresa Demo con direcci�n en Madrid
info: GesFer.Api.Services.SetupService[0]
      Grupo creado: Administradores
info: GesFer.Api.Services.SetupService[0]
      Permisos creados: 6 permisos
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 8 entities to in-memory store.
info: GesFer.Api.Services.SetupService[0]
      Permisos guardados en la base de datos
info: GesFer.Api.Services.SetupService[0]
      Permisos asignados al grupo: 4 permisos
info: GesFer.Api.Services.SetupService[0]
      Usuario creado: admin con direcci�n en Madrid
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 5 entities to in-memory store.
info: GesFer.Api.Services.SetupService[0]
      Empresa, grupo y usuario guardados
info: GesFer.Api.Services.SetupService[0]
      Usuario asignado al grupo
info: GesFer.Api.Services.SetupService[0]
      Permiso directo asignado al usuario
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 2 entities to in-memory store.
info: GesFer.Api.Services.SetupService[0]
      Relaciones de usuario guardadas
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: GesFer.Api.Services.SetupService[0]
      Proveedores de prueba creados: 3 proveedores
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: GesFer.Api.Services.SetupService[0]
      Clientes de prueba creados: 3 clientes
info: GesFer.Api.Services.SetupService[0]
      Todos los datos iniciales guardados correctamente
info: GesFer.Api.Services.SetupService[0]
      Verificando usuarios insertados...
info: GesFer.Api.Services.SetupService[0]
      Se encontraron 1 usuario(s) en la base de datos
info: GesFer.Api.Services.SetupService[0]
      Inicializaci�n completada exitosamente
info: GesFer.Api.Controllers.SetupController[0]
      Inicializaci�n completada exitosamente
  Correctas GesFer.IntegrationTests.Controllers.SetupControllerTests.Initialize_EndpointShouldExist [10 s]
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 0 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 3 entities to in-memory store.
info: Microsoft.EntityFrameworkCore.Update[30100]
      Saved 14 entities to in-memory store.
[xUnit.net 00:00:28.17]   Finished:    GesFer.IntegrationTests
  Correctas GesFer.IntegrationTests.Controllers.SetupControllerTests.SeedData_ShouldInsertUsersCorrectly [125 ms]

La serie de pruebas se ejecutó correctamente.
Pruebas totales: 93
     Correcto: 93
 Tiempo total: 28,7556 Segundos
     1>Compilación del proyecto terminada "C:\Proyectos\GesFer\Api\src\IntegrationTests\GesFer.IntegrationTests.csproj" (VSTest destinos).

Compilación correcta.
    0 Advertencia(s)
    0 Errores

Tiempo transcurrido 00:00:33.06
Todos los tests se ejecutaron correctamente. 
